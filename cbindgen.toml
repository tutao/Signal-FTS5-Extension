#
# Copyright (C) 2023 Signal Messenger, LLC.
# SPDX-License-Identifier: AGPL-3.0-only
#

language = "C"

header = "/*\nCopyright (C) 2023 Signal Messenger, LLC.\nSPDX-License-Identifier: AGPL-3.0-only\n*/\n"

include_guard = "SIGNAL_FTS5_TOKENIZER_H_"

autogen_warning = "/* This file was automatically generated by cbindgen */"

# Structs with functions that reference the struct itself wouldn't get generated correctly otherwise
style = "both"

cpp_compat = true

# A hack to assume that extension is enabled.
after_includes = "#define SIGNAL_FTS5_TOKENIZER_EXTENSION_H_"

[enum]
prefix_with_name = true

[export]
item_types = ["functions", "opaque", "structs", "typedefs"]

[export.rename]
"Sqlite3" = "sqlite3"
"Sqlite3APIRoutines" = "sqlite3_api_routines"
"TokenFunction" = "sqlite3__fts5_token_fn"
